<ion-header>
  <ion-toolbar>
    <ion-buttons slot="primary">
      <ion-button (click)="goBack()">
        <ion-icon style="color: aliceblue;" slot="icon-only" name="ios-undo"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Editar Animal</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content padding>
  <form #form="ngForm" (ngSubmit)="atualizar(form);" method="post">
    <ion-grid>
      <ion-row>
        <ion-col class="ion-text-center">
          <img src="{{imageFileBase64}}" (click)="seleccionarImagen()" class="back" width="250px" height="200px">
        </ion-col>
        <input #inputcamera type="file" accept="image/*" capture="camera" [hidden]=true />
      </ion-row>
    </ion-grid>
    <ion-input hidden [(ngModel)]="CodigoFazendaAnimal" type="text" name="CodigoFazendaAnimal"
      value="CodigoFazendaAnimal"></ion-input>
    <ion-grid>
      <label class="ion-padding-top">Animal: {{TipoAnimal}} / {{IdentificacaoAnimal}}
      </label>
      <ion-row>
        <ion-col>
          <ion-label>Tipo</ion-label>
          <div class="selectForm">
            <ion-select class="selector" interface="popover" [(ngModel)]="TipoAnimal" name="TipoAnimal" value="Sexo"
              okText="Confirma" cancelText="Cancelar">
              <ion-select-option *ngFor="let tipo of tipos" value="{{tipo}}">{{tipo}}</ion-select-option>
            </ion-select>
          </div>
        </ion-col>
        <ion-col>
          <ion-label>Sexo</ion-label>
          <div class="selectForm">
            <ion-select class="selector" interface="popover" [(ngModel)]="SexoAnimal" name="SexoAnimal" value="Sexo"
              okText="Confirma" cancelText="Cancelar">
              <ion-select-option selected value="Macho">Macho</ion-select-option>
              <ion-select-option value="Femea">Fêmea</ion-select-option>
            </ion-select>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label>Raça</ion-label>
          <ion-input [(ngModel)]="RacaAnimal" type="text" name="RacaAnimal" required>
          </ion-input>
        </ion-col>
        <ion-col>
          <ion-label>Identificação</ion-label>
          <ion-input [(ngModel)]="IdentificacaoAnimal" type="text" name="IdentificacaoAnimal"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label>Data de Nascimento</ion-label>
          <ion-datetime class="selector" placeholder="Selecione a data..." [(ngModel)]="Datadenascimento"
            name="Datadenascimento" displayFormat="DD/MM/YYYY" #dataCtrl="ngModel"  cancel-text="Cancelar"
            done-text="Confirma">
          </ion-datetime>
        </ion-col>
        <ion-col>
          <ion-label>Data de Aquisição</ion-label>
          <ion-datetime class="selector" placeholder="Selecione a data..." [(ngModel)]="Datadeaquisicao"
            name="Datadeaquisicao" displayFormat="DD/MM/YYYY" #dataCtrl="ngModel"  cancel-text="Cancelar"
            done-text="Confirma">
          </ion-datetime>
        </ion-col>
      </ion-row>
      <div>
        <ion-row>
          <ion-col>
            <ion-label>Valor</ion-label>
            <ion-input [(ngModel)]="ValorAtualAnimal" type="number" name="ValorAtualAnimal" value="Valor_atual">
            </ion-input>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-label>Peso</ion-label>
            <ion-input [(ngModel)]="PesoAtualAnimal" type="number" name="PesoAtualAnimal" value="Peso_atual">
            </ion-input>
          </ion-col>
          <ion-col>
            <ion-label>Unidade</ion-label>
            <ion-select class="selector" interface="popover" [(ngModel)]="UnidadPesoAnimal" name="UnidadPesoAnimal"
              value="Unidad_peso" okText="Confirma" cancelText="Cancelar">
              <ion-select-option *ngFor="let unidad of unidades" value="{{unidad}}">{{unidad}}
              </ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-label>Observações </ion-label>
            <ion-input [(ngModel)]="ObservacoesAnimal" type="text" name="ObservacoesAnimal"></ion-input>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-label position="floating">Situação</ion-label>
            <ion-select class="selector" interface="popover" [(ngModel)]="Situacao" name="Situacao" value="Situacao"
              (ionChange)="onChangeSituacao(Situacao)">
              <ion-select-option value="Engorda">Engorda</ion-select-option>
              <ion-select-option value="EngordaP">Engorda peso de venda</ion-select-option>
              <ion-select-option value="Producao">Produção de leite</ion-select-option>
              <ion-select-option value="Reprodutor">Reprodutor</ion-select-option>
              <ion-select-option value="Morte">Baixa por morte</ion-select-option>
              <ion-select-option value="Perdido">Perdido</ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="morteFlag">
          <ion-col>
            <ion-label>Data </ion-label>
            <ion-datetime class="selector" placeholder="Selecione a data..." [(ngModel)]="Data" name="Data"
              displayFormat="DD/MM/YYYY" #dataCtrl="ngModel" required cancel-text="Cancelar" done-text="Confirma">
            </ion-datetime>
          </ion-col>
        </ion-row>
      </div>
    </ion-grid>
    <div class="ion-text-center">
      <ion-button type="submit" [disabled]="!form.valid" class="at_but">Atualizar</ion-button>
    </div>
  </form>
</ion-content>